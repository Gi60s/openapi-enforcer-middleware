<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | OpenAPI Enforcer Middleware</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Enforcer middleware function documentation.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/openapi-enforcer-middleware/assets/css/0.styles.cb64e744.css" as="style"><link rel="preload" href="/openapi-enforcer-middleware/assets/js/app.98b0fab6.js" as="script"><link rel="preload" href="/openapi-enforcer-middleware/assets/js/2.dcde1ce6.js" as="script"><link rel="preload" href="/openapi-enforcer-middleware/assets/js/20.bf47b38c.js" as="script"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/10.ffdc4f19.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/11.03083ece.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/12.aba0c263.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/13.cb55f3b4.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/14.9ec011dc.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/15.a041b35e.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/16.45056757.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/17.80dcc11e.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/18.d8f1eb83.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/19.371dae60.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/21.0f4a8a32.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/22.c1061d7e.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/23.01129fdf.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/24.b2281de7.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/3.61b802ad.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/4.f5d0af7c.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/5.86c39536.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/6.a875d6bd.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/7.eff6e27d.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/8.eea0e05f.js"><link rel="prefetch" href="/openapi-enforcer-middleware/assets/js/9.60becb93.js">
    <link rel="stylesheet" href="/openapi-enforcer-middleware/assets/css/0.styles.cb64e744.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/openapi-enforcer-middleware/" class="home-link router-link-active"><!----> <span class="site-name">OpenAPI Enforcer Middleware</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/openapi-enforcer-middleware/guide/getting-started.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/openapi-enforcer-middleware/api/index.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/openapi-enforcer-middleware/v1/" class="nav-link router-link-active">
  1.x
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/openapi-enforcer-middleware/guide/getting-started.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/openapi-enforcer-middleware/api/index.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/openapi-enforcer-middleware/v1/" class="nav-link router-link-active">
  1.x
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/openapi-enforcer-middleware/v1/" aria-current="page" class="sidebar-link">OpenAPI Enforcer Middleware</a></li><li><a href="/openapi-enforcer-middleware/v1/api.html" aria-current="page" class="active sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/openapi-enforcer-middleware/v1/api.html#openapienforcermiddleware" class="sidebar-link">OpenApiEnforcerMiddleware</a></li><li class="sidebar-sub-header"><a href="/openapi-enforcer-middleware/v1/api.html#controllers" class="sidebar-link">Controllers</a></li><li class="sidebar-sub-header"><a href="/openapi-enforcer-middleware/v1/api.html#middleware" class="sidebar-link">Middleware</a></li><li class="sidebar-sub-header"><a href="/openapi-enforcer-middleware/v1/api.html#mocks" class="sidebar-link">Mocks</a></li><li class="sidebar-sub-header"><a href="/openapi-enforcer-middleware/v1/api.html#use" class="sidebar-link">Use</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/openapi-enforcer-middleware/v1/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/openapi-enforcer-middleware/v1/guide/server.html" class="sidebar-link">Server Setup</a></li><li><a href="/openapi-enforcer-middleware/v1/guide/openapi-document.html" class="sidebar-link">OpenAPI Document</a></li><li><a href="/openapi-enforcer-middleware/v1/guide/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/openapi-enforcer-middleware/v1/guide/mocking.html" class="sidebar-link">Mocking</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>You are looking at the documentation for version 1.x. For the documentation on the latest version see the <a href="/openapi-enforcer-middleware/guide/getting-started.html">Guide</a> or the <a href="/openapi-enforcer-middleware/api/">API</a>.</p></div> <h2 id="openapienforcermiddleware"><a href="#openapienforcermiddleware" class="header-anchor">#</a> OpenApiEnforcerMiddleware</h2> <p>The constructor will create an instance of the OpenAPI enforcer middleware.</p> <p><strong>Signature</strong></p> <p><code>OpenApiEnforcerMiddleware (definition: string [, options: object ])</code></p> <p><strong>Parameters</strong></p> <ul><li><p><em>definition</em> - A <code>string</code> indicating the path the the OpenAPI document definition or an <code>object</code> that is the Open API definition. If a <code>string</code> is specified then the document will be loaded and will resolve all <code>$ref</code> properties.</p></li> <li><p><em>options</em> - An optional <code>object</code> with the following settings:</p> <ul><li><p><em>componentOptions</em> - These options will passed directly on to the openapi-enforcer's components.</p></li> <li><p><em>fallthrough</em> - When this middleware is run, if <code>fallthough</code> is set to <code>true</code> then the next middleware will be called, otherwise a <code>404</code> response will be sent. Defaults to <code>true</code>.</p></li> <li><p><em>mockHeader</em> - The name of the header to look for to specify an <a href="/openapi-enforcer-middleware/v1/guide/mocking.html#explicit-mocking">explicit mock</a> request. Defaults to <code>&quot;x-mock&quot;</code>.</p></li> <li><p><em>mockQuery</em> - The name of the query parameter to look for to specify an <a href="/openapi-enforcer-middleware/v1/guide/mocking.html#explicit-mocking">explicit mock</a> request. This query parameter does not need to be defined in your OpenAPI document definition. Defaults to <code>&quot;x-mock&quot;</code>.</p></li> <li><p><em>reqMockStatusCodeProperty</em> - The name of the property to attach the <a href="https://byu-oit.github.io/openapi-enforcer/api/components/operation" target="_blank" rel="noopener noreferrer">OpenAPI Enforcer's OpenAPI object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to on the request object. Defaults to <code>&quot;openapi&quot;</code>.</p></li> <li><p><em>reqOperationProperty</em> - The name of the property to attach the <a href="https://byu-oit.github.io/openapi-enforcer/api/components/operation" target="_blank" rel="noopener noreferrer">OpenAPI Enforcer's Operation object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to on the request object. Defaults to <code>&quot;operation&quot;</code>.</p></li> <li><p><em>resSerialize</em> - A boolean indicating whether to serialize responses. If you disable this response serialization you may need to serialize your own responses, depending on what data you are sending back to the client. Defaults to <code>true</code>.</p></li> <li><p><em>resValidate</em> - A boolean indicating whether to validate responses. Responses that are invalid might not serialize. Defaults to <code>true</code>.</p></li> <li><p><em>xController</em> - The name of the property to look for in your OpenAPI document to define the name of the controller associated with an operation. Defaults to <code>&quot;x-controller&quot;</code>.</p></li> <li><p><em>xOperation</em> - The name of the property to look for in your OpenAPI document to define the name of the operation within the controller that is associated with the operation. Defaults to <code>&quot;x-operation&quot;</code>.</p></li></ul></li></ul> <p><strong>Returns</strong> an OpenAPI Enforcer Middleware instance</p> <h2 id="controllers"><a href="#controllers" class="header-anchor">#</a> Controllers</h2> <p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will define a <a href="/openapi-enforcer-middleware/v1/guide/controllers.html">controllers group</a> that will handle requests and add it as an internal middleware.</p> <p><strong>Signature</strong></p> <p><code>OpenAPIEnforcerMiddleware.prototype.controllers (controllers: string|object, ...dependencyInjection): Promise</code></p> <p><strong>Parameters</strong></p> <ul><li><p><em>controllers</em> - The path the the controllers directory or a controllers definition map. See the <a href="/openapi-enforcer-middleware/v1/guide/controllers.html">controllers documentation</a> for more information.</p></li> <li><p><em>dependencyInjection</em> - You can add any number of parameters after the first parameter and these will be passed in to a controller that uses <a href="/openapi-enforcer-middleware/v1/guide/controllers.html#dependency-injection">dependency injection</a>.</p></li></ul> <p><strong>Returns</strong> a <code>Promise</code> that resolves if successfully loaded.</p> <h2 id="middleware"><a href="#middleware" class="header-anchor">#</a> Middleware</h2> <p>Call this function to return the middleware runner that will run the internal middlewares.</p> <p><strong>Signature</strong></p> <p><code>OpenAPIEnforcerMiddleware.prototype.middleware (): Function</code></p> <p><strong>Parameters</strong> None</p> <p><strong>Returns</strong> an <a href="https://www.npmjs.com/package/express" target="_blank" rel="noopener noreferrer">express<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> middleware function.</p> <h2 id="mocks"><a href="#mocks" class="header-anchor">#</a> Mocks</h2> <p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will define a mock controllers group that will handle requests and add it as an internal middleware.</p> <p><strong>Signature</strong></p> <p><code>OpenAPIEnforcerMiddleware.prototype.mocks (controllers: string|object, isFallback: boolean, ...dependencyInjection): Promise</code></p> <p><strong>Parameters</strong></p> <ul><li><p><em>controllers</em> - The path the the mock controllers directory or a controllers definition map. See the <a href="/openapi-enforcer-middleware/v1/guide/controllers.html">controllers guide</a> for more information. This value can be set to <code>null</code> or <code>undefined</code> if you do not have any mock controller functions to run.</p></li> <li><p><em>isFallback</em> - A boolean indicating whether this is <a href="/openapi-enforcer-middleware/v1/guide/mocking.html#fallback-mocking">fallback middleware</a> or if it requires <a href="/openapi-enforcer-middleware/v1/guide/mocking.html#explicit-mocking">explicit mock</a> requests to run.</p></li> <li><p><em>dependencyInjection</em> - You can add any number of parameters after the first parameter and these will be passed in to a controller that uses <a href="/openapi-enforcer-middleware/v1/guide/controllers.html#dependency-injection">dependency injection</a>.</p></li></ul> <p><strong>Returns</strong> A Promise that will resolve when the middleware loads correctly.</p> <h2 id="use"><a href="#use" class="header-anchor">#</a> Use</h2> <p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will add an internal middleware.</p> <p><strong>Signature</strong></p> <p><code>OpenAPIEnforcerMiddleware.prototype.use (middleware: Function): undefined</code></p> <p><strong>Parameters</strong></p> <ul><li><em>middleware</em> - The express middleware function to add to the internal enforcer's middleware. Any responses sent from within these middlewares will be validated against the OpenAPI document definition prior to sending.</li></ul> <p><strong>Returns</strong> nothing.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/openapi-enforcer-middleware/v1/" class="prev router-link-active">
        OpenAPI Enforcer Middleware
      </a></span> <span class="next"><a href="/openapi-enforcer-middleware/v1/guide/getting-started.html">
        Getting Started
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/openapi-enforcer-middleware/assets/js/app.98b0fab6.js" defer></script><script src="/openapi-enforcer-middleware/assets/js/2.dcde1ce6.js" defer></script><script src="/openapi-enforcer-middleware/assets/js/20.bf47b38c.js" defer></script>
  </body>
</html>
