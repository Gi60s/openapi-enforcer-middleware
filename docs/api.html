
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>OpenAPI Enforcer Middleware | API</title>
  

  <link rel="icon" href="/openapi-enforcer-middleware/favicon.png">

  <link rel="stylesheet" href="/openapi-enforcer-middleware/template-files/styles/main.css" media="all">
  
  
  <link rel="stylesheet" href="/openapi-enforcer-middleware/css/main.css" media="all">
  
  
  
</head>

<body>
  <header class="site-header">
    <div class="wrapper">
      <a class="site-title" href="/openapi-enforcer-middleware">
        OpenAPI Enforcer Middleware
      </a>

      
      <nav class="site-nav">
        <a href="#" class="menu-icon" aria-label="Menu">
          <svg viewBox="0 0 18 15">
            <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
            <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
            <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
          </svg>
        </a>
      </nav>
      
    </div>
  </header>

<div class="page-content">
  <div class="wrapper">

    
    <div class="nav-screen"></div>
    <nav class="nav-list"><ul><li><a href="/openapi-enforcer-middleware">OpenAPI Enforcer Middleware</a></li><li><a href="/openapi-enforcer-middleware/getting-started">Getting Started</a></li><li><a href="/openapi-enforcer-middleware/api" class="current-page">API</a></li><li><a href="/openapi-enforcer-middleware/guide">Guide</a><ul><li><a href="/openapi-enforcer-middleware/guide/server">Server Setup</a></li><li><a href="/openapi-enforcer-middleware/guide/openapi-document">OpenAPI Document</a></li><li><a href="/openapi-enforcer-middleware/guide/controllers">Controllers</a></li><li><a href="/openapi-enforcer-middleware/guide/mocking">Mocking</a></li></ul></li></ul></li></nav>
    

    <div class="page-content-main">
      <article class="post">
        <header class="post-header">
          
          <h1 class="post-title">API</h1>
        </header>

        
        <div>
          <p><strong>Page Content</strong></p>
          <div class="section-nav"><ul class="toc"><li><a href="#openapienforcermiddleware">OpenApiEnforcerMiddleware</a></li><li><a href="#controllers">Controllers</a></li><li><a href="#middleware">Middleware</a></li><li><a href="#mocks">Mocks</a></li><li><a href="#use">Use</a></li></ul></div>
        </div>
        

        <div class="post-content"><h2 id="openapienforcermiddleware">OpenApiEnforcerMiddleware</h2>
<p>The constructor will create an instance of the OpenAPI enforcer middleware.</p>
<p><strong>Signature</strong> </p>
<p><code>OpenApiEnforcerMiddleware (definition: string [, options: object ])</code></p>
<p><strong>Parameters</strong></p>
<ul>
<li><p><em>definition</em> - A <code>string</code> indicating the path the the OpenAPI document definition or an <code>object</code> that is the Open API definition. If a <code>string</code> is specified then the document will be loaded and will resolve all <code>$ref</code> properties.</p>
</li>
<li><p><em>options</em> - An optional <code>object</code> with the following settings:</p>
<ul>
<li><p><em>componentOptions</em> - These options will passed directly on to the openapi-enforcer&#39;s components.</p>
</li>
<li><p><em>fallthrough</em> - When this middleware is run, if <code>fallthough</code> is set to <code>true</code> then the next middleware will be called, otherwise a <code>404</code> response will be sent. Defaults to <code>true</code>.</p>
</li>
<li><p><em>mockHeader</em> - The name of the header to look for to specify an <a href="/openapi-enforcer-middleware/guide/mocking#explicit-mocking">explicit mock</a> request. Defaults to <code>&quot;x-mock&quot;</code>.</p>
</li>
<li><p><em>mockQuery</em> - The name of the query parameter to look for to specify an <a href="/openapi-enforcer-middleware/guide/mocking#explicit-mocking">explicit mock</a> request. This query parameter does not need to be defined in your OpenAPI document definition. Defaults to <code>&quot;x-mock&quot;</code>.</p>
</li>
<li><p><em>reqMockStatusCodeProperty</em> - The name of the property to attach the <a href="https://byu-oit.github.io/openapi-enforcer/api/components/operation">OpenAPI Enforcer&#39;s OpenAPI object</a> to on the request object. Defaults to <code>&quot;openapi&quot;</code>.</p>
</li>
<li><p><em>reqOperationProperty</em> - The name of the property to attach the <a href="https://byu-oit.github.io/openapi-enforcer/api/components/operation">OpenAPI Enforcer&#39;s Operation object</a> to on the request object. Defaults to <code>&quot;operation&quot;</code>.</p>
</li>
<li><p><em>resSerialize</em> - A boolean indicating whether to serialize responses. If you disable this response serialization you may need to serialize your own responses, depending on what data you are sending back to the client. Defaults to <code>true</code>.</p>
</li>
<li><p><em>resValidate</em> - A boolean indicating whether to validate responses. Responses that are invalid might not serialize. Defaults to <code>true</code>.</p>
</li>
<li><p><em>xController</em> - The name of the property to look for in your OpenAPI document to define the name of the controller associated with an operation. Defaults to <code>&quot;x-controller&quot;</code>.</p>
</li>
<li><p><em>xOperation</em> - The name of the property to look for in your OpenAPI document to define the name of the operation within the controller that is associated with the operation. Defaults to <code>&quot;x-operation&quot;</code>.</p>
</li>
</ul>
</li>
</ul>
<p><strong>Returns</strong> an OpenAPI Enforcer Middleware instance</p>
<h2 id="controllers">Controllers</h2>
<p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will define a <a href="/openapi-enforcer-middleware/guide/controllers">controllers group</a> that will handle requests and add it as an internal middleware.</p>
<p><strong>Signature</strong></p>
<p><code>OpenAPIEnforcerMiddleware.prototype.controllers (controllers: string|object, ...dependencyInjection): Promise</code></p>
<p><strong>Parameters</strong></p>
<ul>
<li><p><em>controllers</em> - The path the the controllers directory or a controllers definition map. See the <a href="/openapi-enforcer-middleware/guide/controllers">controllers documentation</a> for more information.</p>
</li>
<li><p><em>dependencyInjection</em> - You can add any number of parameters after the first parameter and these will be passed in to a controller that uses <a href="/openapi-enforcer-middleware/guide/controllers#dependency-injection">dependency injection</a>.</p>
</li>
</ul>
<p><strong>Returns</strong> a <code>Promise</code> that resolves if successfully loaded.</p>
<h2 id="middleware">Middleware</h2>
<p>Call this function to return the middleware runner that will run the internal middlewares.</p>
<p><strong>Signature</strong></p>
<p><code>OpenAPIEnforcerMiddleware.prototype.middleware (): Function</code></p>
<p><strong>Parameters</strong> None</p>
<p><strong>Returns</strong> an <a href="https://www.npmjs.com/package/express">express</a> middleware function.</p>
<h2 id="mocks">Mocks</h2>
<p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will define a mock controllers group that will handle requests and add it as an internal middleware.</p>
<p><strong>Signature</strong></p>
<p><code>OpenAPIEnforcerMiddleware.prototype.mocks (controllers: string|object, isFallback: boolean, ...dependencyInjection): Promise</code></p>
<p><strong>Parameters</strong></p>
<ul>
<li><p><em>controllers</em> - The path the the mock controllers directory or a controllers definition map. See the <a href="/openapi-enforcer-middleware/guide/controllers">controllers guide</a> for more information. This value can be set to <code>null</code> or <code>undefined</code> if you do not have any mock controller functions to run.</p>
</li>
<li><p><em>isFallback</em> - A boolean indicating whether this is <a href="/openapi-enforcer-middleware/guide/mocking#fallback-mocking">fallback middleware</a> or if it requires <a href="/openapi-enforcer-middleware/guide/mocking#explicit-mocking">explicit mock</a> requests to run.</p>
</li>
<li><p><em>dependencyInjection</em> - You can add any number of parameters after the first parameter and these will be passed in to a controller that uses <a href="/openapi-enforcer-middleware/guide/controllers#dependency-injection">dependency injection</a>.</p>
</li>
</ul>
<p><strong>Returns</strong> A Promise that will resolve when the middleware loads correctly.</p>
<h2 id="use">Use</h2>
<p>The OpenApiEnforcerMiddleware has its own internal middleware runner. Calling this function will add an internal middleware.</p>
<p><strong>Signature</strong></p>
<p><code>OpenAPIEnforcerMiddleware.prototype.use (middleware: Function): undefined</code></p>
<p><strong>Parameters</strong></p>
<ul>
<li><em>middleware</em> - The express middleware function to add to the internal enforcer&#39;s middleware. Any responses sent from within these middlewares will be validated against the OpenAPI document definition prior to sending.</li>
</ul>
<p><strong>Returns</strong> nothing.</p>
</div>
      </article>

      <footer class="site-footer">

        
        <p>
          Caught a mistake or want to contribute to the documentation?
          <a href="https://github.com/byu-oit/openapi-enforcer-middleware/tree/master/docs-src/api.md" target="_blank" rel="noopener">Edit this page on Github</a>
        </p>
        

        

        
        <div class="footer-links">
          
          <div><a href="https://github.com/byu-oit/openapi-enforcer-middleware" target="_blank" rel="noopener">Github</a></div>
          
          <div><a href="https://www.npmjs.com/package/openapi-enforcer-middleware" target="_blank" rel="noopener">NPM</a></div>
          
        </div>
        

      </footer>
    </div>

  </div>
</div>


<script src="/openapi-enforcer-middleware/template-files/js/main.js"></script>

</body>

</html>
